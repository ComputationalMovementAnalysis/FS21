<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>GEO880: Patterns and Trends in Environmental Data</title>
  <meta name="description" content="GEO880: Patterns and Trends in Environmental Data">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="GEO880: Patterns and Trends in Environmental Data" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="GEO880: Patterns and Trends in Environmental Data" />
  
  
  

<meta name="author" content="Patrick Laube and Nils Ratnaweera">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction Chapter</a></li>
<li class="chapter" data-level="2" data-path="lesson-1.html"><a href="lesson-1.html"><i class="fa fa-check"></i><b>2</b> Lesson 1</a><ul>
<li class="chapter" data-level="2.1" data-path="lesson-1.html"><a href="lesson-1.html#leaning-outcomes"><i class="fa fa-check"></i><b>2.1</b> Leaning outcomes</a></li>
<li class="chapter" data-level="2.2" data-path="lesson-1.html"><a href="lesson-1.html#prerequisites"><i class="fa fa-check"></i><b>2.2</b> Prerequisites</a></li>
<li class="chapter" data-level="2.3" data-path="lesson-1.html"><a href="lesson-1.html#tasks"><i class="fa fa-check"></i><b>2.3</b> Tasks</a><ul>
<li class="chapter" data-level="2.3.1" data-path="lesson-1.html"><a href="lesson-1.html#task-1-prepare-project"><i class="fa fa-check"></i><b>2.3.1</b> Task 1: Prepare project</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GEO880: Patterns and Trends in Environmental Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lesson-1" class="section level1">
<h1><span class="header-section-number">2</span> Lesson 1</h1>
<p>For our practical R course building-up skills for analyzing movement data in the software environment R, you’ll be using data from the ZHAW project <a href="https://www.zhaw.ch/de/lsfm/institute-zentren/iunr/integrative-oekologie/wildtiermanagement/referenzprojekte/">“Prävention von Wildschweinschäden in der Landwirtschaft”</a>.</p>
<p>The project investigates the spatiotemporal movement patterns of wild boar (<em>Sus scrofa</em>) in agricultural landscapes. For more information you can ask <a href="https://www.zhaw.ch/de/ueber-uns/person/sigb/">Beni Sigrist</a>, one of the course participants involved in this project. We will study the trajectories of these wild boar, practicing the most basic analysis tasks of Computational Movement Analysis (CMA).</p>
<p>Lesson 1 (L1) covers the necessary steps for getting ready in R and some basic concepts for setting up a well-structured R project. The lesson introduces how additional packages that provide useful functions are made available and how temporal data is handled. The lesson concludes with the creation of your first map featuring movement data.</p>
<p><strong>Please note</strong> we are given this data under the condition of signing a non-disclosure agreement. Why? This is data coming out of an ongoing research project. Capturing wild living animals and then equipping them with GPS collars is a very labor and cost intensive form of research. Consequently, data resulting such campaigns is a very valuable asset that must be protected.</p>
<div id="leaning-outcomes" class="section level2">
<h2><span class="header-section-number">2.1</span> Leaning outcomes</h2>
<ul>
<li>You learn how to structure an R project.</li>
<li>You can read movement data from a .csv-file into a data.frame and into a sf object.</li>
<li>You can produce simple maps of your trajectory data using ggplot2, leaflet, plotly and tmap</li>
</ul>
</div>
<div id="prerequisites" class="section level2">
<h2><span class="header-section-number">2.2</span> Prerequisites</h2>
<p>Readings Skills from “R for Data Science” (Wickam, 2017):</p>
<!-- Todo add bibtext -->
<ul>
<li>RS1.1 Preface (16p, ix-xxiv)</li>
<li>RS1.2 Chap2 Workflow basics (3p, 37-39)</li>
<li>RS1.3 Chap4 Workflow scripts (3p, 77-79)</li>
<li>RS1.4 Chap6 workflow projects (6p, 111-116)</li>
<li>RS1.5 Chap8 Data Import with readr (21p)</li>
<li>RS1.6 Chap13 Date and Times with lubridate (18p, 237-256)</li>
</ul>
</div>
<div id="tasks" class="section level2">
<h2><span class="header-section-number">2.3</span> Tasks</h2>
<div id="task-1-prepare-project" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Task 1: Prepare project</h3>
<p>Create a new <em>RStudio Project</em>. Create a new R-File and divide it into the sections neccessary in a classical Data Science Workflow. “Sections” are created within RStudio by adding Comments (#) with at least 4 Trailing dashes (-), equal signs (=), or pound signs (#) (see below). Sections allow code folding (click on the small triangle next to the line number) and provides and navigation (type Shift+Alt+J).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loading enironment / libraries ####</span>

<span class="co"># Data import ####</span>

<span class="co"># Data clensing ####</span>

<span class="co"># Data analysis and visualization ####</span></code></pre></div>
<p>In the first section (loading environment / libraries), add the code to install and load the package “tidyverse”. Once you’ve installed the package, you can uncomment the corresponding line of code, because you will not need to execute this line in your next R Session.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Loading enironment / libraries ####</span>

<span class="co"># install.packages(&quot;tidyverse&quot;)</span>
<span class="kw">library</span>(tidyverse)</code></pre></div>
<pre><code>## Loading tidyverse: ggplot2
## Loading tidyverse: tibble
## Loading tidyverse: tidyr
## Loading tidyverse: readr
## Loading tidyverse: purrr
## Loading tidyverse: dplyr</code></pre>
<pre><code>## Warning: package &#39;tibble&#39; was built under R version 3.4.4</code></pre>
<pre><code>## Warning: package &#39;tidyr&#39; was built under R version 3.4.4</code></pre>
<pre><code>## Warning: package &#39;dplyr&#39; was built under R version 3.4.3</code></pre>
<pre><code>## Conflicts with tidy packages ----------------------------------------------</code></pre>
<pre><code>## filter(): dplyr, stats
## lag():    dplyr, stats</code></pre>
<p>In the first section (loading environment / libraries), add the code to install and load the package “tidyverse”. Once you’ve installed the package, you can uncomment the corresponding line of code, because you will not need to execute this line in your next R Session.</p>
<!-- ### Task 2: Import data -->
<!-- In section "data import", import the files `Roe_gps_all.csv` and `Roe_meta.csv`.  -->
<!-- Tipp: RStudio provides [a graphical tool](https://support.rstudio.com/hc/en-us/articles/218611977-Importing-Data-with-RStudio) which you can use to build your `read_csv()` command. However, in regard to the reproducibility of your script, you will need to copy the "import" statement into your script (in the section "data import"). This will ensure that your worflow is documented without gaps. -->
<!-- ```{r} -->
<!-- # Data import #### -->
<!-- roe_gps_all <-read_csv("20_Rawdata/Roe_gps_all.csv") -->
<!-- ``` -->
<!-- ### Task 3: Clean data -->
<!-- In section "Data clensing", drop the columns we do not need at the moment. Since we're not actually deleting any columns withint the original data, you can drop columns generously. For the moment, we only need columns "TierID", "LMT_Date", "LMT_Time", "DOP", "Latitude...." and "Longitude....". Remove the "...." from the column name. Do not touch the original data to do this, change the name within R. -->
<!-- ```{r} -->
<!-- # Data clensing #### -->
<!-- roe_gps_all <- select(roe_gps_all,"TierID","LMT_Date","LMT_Time","DOP","Latitude....","Longitude....") -->
<!-- roe_gps_all <- rename(roe_gps_all,Lat = Latitude....) -->
<!-- roe_gps_all <- rename(roe_gps_all,Lng = Longitude....) -->
<!-- ``` -->
<!-- ### Task 3 -->
<!-- Make a first "map-like" plot of your data producing a simple scatter plot with ggplot2. Assign every individual animal its own colour (using the ggplot2 argument colour). Do you spot outliers? If so, get rid of the outliers. Plot your data again, this time without outliers. Save your plot using ggsave(). Save your code in the listing 1.4_plotting_ggplot.R. Setting up a ggplot with our data is done using the command ggplot(roe_gps_all, aes(X, Y, colour = TierID)). Creating a map is done via the basic scatter plot command geom_point(), using a fixed aspect ratio of 1. -->
<!-- ```{r} -->
<!-- ggplot(roe_gps_all, aes(Lat,Lng, colour = TierID)) + -->
<!--   geom_point() -->
<!-- ``` -->
<!-- ### Task 4 -->
<!-- Now we want to produce a nicer map with an OpenStreetMap basemap. This can be done with leaflet First, you load the library within your "Loading enironment / libraries" section -->
<!-- ```{r} -->
<!-- # Loading enironment / libraries #### -->
<!-- library(tidyverse) -->
<!-- library(leaflet) -->
<!-- ``` -->
<!-- Then, create a leaflet object with leaflet() and subsequently add the neccessary layers. Our Layers at the moment are simply a point (circle) representation of the positions and a background basemap: -->
<!-- ```{r} -->
<!-- map <- leaflet(roe_gps_all) -->
<!-- map <- addCircles(map, lat = ~Lat, lng = ~Lng) -->
<!-- map <- addTiles(map)  -->
<!-- map -->
<!-- ``` -->
<!-- ## Tips and suggestions -->
<!-- ## Materials and Help -->

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
